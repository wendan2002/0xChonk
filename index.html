<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>0xChonk | Fat Cat Protocol</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        body {
            font-family: 'Press Start 2P', cursive;
            background-color: #0f0f0f;
            color: #ff9f43;
            overflow: hidden;
            user-select: none;
            -webkit-user-select: none;
            touch-action: manipulation;
        }

        /* --- ÂãïÁï´ÁâπÊïàÂçÄ --- */
        
        /* Ë≤ìÂí™ÂëºÂê∏ */
        @keyframes breathe { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }
        .cat-idle { animation: breathe 3s infinite ease-in-out; }
        
        /* Âº∑ÂäõÈªûÊìäÁâπÊïà */
        .cat-tap { animation: tap-bounce 0.1s cubic-bezier(0.1, 0.7, 1.0, 0.1); filter: brightness(1.3) contrast(1.1); }
        @keyframes tap-bounce { 0% { transform: scale(1); } 50% { transform: scale(0.92); } 100% { transform: scale(1); } }

        /* ÊµÆÂãïÊï∏Â≠ó */
        @keyframes floatUp { 0% { opacity: 1; transform: translateY(0) scale(1); } 100% { opacity: 0; transform: translateY(-80px) scale(1.5); } }
        .float-num { position: absolute; color: white; font-size: 28px; pointer-events: none; animation: floatUp 0.6s ease-out forwards; z-index: 50; text-shadow: 3px 3px 0 #000; -webkit-text-stroke: 1px black; }

        .no-scrollbar::-webkit-scrollbar { display: none; }
        
        /* È†ÅÈù¢ÂàáÊèõÁâπÊïà */
        .page { display: none; width: 100%; height: 100%; flex-direction: column; }
        .page.active { display: flex; animation: fadeIn 0.2s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

        /* Èå¢ÂåÖÈÄ£Êé•ÁâπÊïà */
        .modal-bg { background: rgba(0,0,0,0.85); backdrop-filter: blur(5px); }
    </style>
</head>
<body class="h-screen flex flex-col bg-gray-900">

    <!-- È†ÇÈÉ®Ë≥áË®äÊ¨Ñ (Êñ∞Â¢ûÈå¢ÂåÖÊåâÈàï) -->
    <div class="h-16 px-4 flex justify-between items-center z-20 bg-gray-800 border-b-4 border-white shrink-0">
        <div class="flex items-center gap-2">
            <div class="w-8 h-8 bg-orange-500 border-2 border-white flex items-center justify-center text-black text-xs font-bold shadow-[2px_2px_0_0_#000]">0x</div>
            <div class="flex flex-col">
                <span class="text-[10px] text-gray-400">CEO</span>
                <span class="text-xs text-white">PLAYER_1</span>
            </div>
        </div>
        
        <!-- Èå¢ÂåÖÊåâÈàï -->
        <button id="wallet-btn" onclick="toggleWalletModal()" class="flex items-center gap-2 bg-black border-2 border-gray-600 px-3 py-1.5 active:translate-y-1 transition-all">
            <i data-lucide="wallet" class="w-4 h-4 text-gray-400"></i>
            <span id="wallet-text" class="text-[10px] text-gray-400 truncate max-w-[80px]">Connect</span>
        </button>
    </div>

    <!-- === È†ÅÈù¢ 1: ÊåñÁ§¶ (MINE) === -->
    <div id="view-mine" class="page active items-center justify-center relative">
        <!-- Á∏ΩÈ§òÈ°ç -->
        <div class="mb-4 text-center z-10">
            <div class="text-[8px] text-gray-500 mb-2 tracking-widest uppercase">Total Balance</div>
            <div class="text-3xl text-white drop-shadow-md flex items-center justify-center gap-2">
                <img src="https://cdn-icons-png.flaticon.com/512/12196/12196486.png" class="w-6 h-6 animate-pulse filter invert" />
                <span id="score-display">0</span>
            </div>
        </div>

        <!-- Ë≤ìÂí™ÈªûÊìäÂçÄ -->
        <div class="relative cursor-pointer select-none group" id="cat-btn">
            <!-- ÁôºÂÖâËÉåÊôØ -->
            <div class="absolute inset-0 bg-orange-500/20 rounded-full blur-2xl group-active:bg-orange-500/50 transition-all duration-75"></div>
            
            <!-- ÂúìÂΩ¢ÂÆπÂô® -->
            <div class="w-64 h-64 rounded-full border-4 border-white overflow-hidden relative shadow-[0_0_0_4px_#000,0_10px_20px_rgba(0,0,0,0.5)] cat-idle bg-blue-800 flex items-center justify-center">
                <!-- ÂúñÁâáÔºöÂ¶ÇÊûúËºâÂÖ•Â§±ÊïóÊúÉËÆä Emoji -->
                <img src="https://github.com/wendan2002/0xChonk/blob/main/0xchonk.jpg.jpg?raw=true">
            </div>
        </div>

        <!-- ËÉΩÈáèÊ¢ù -->
        <div class="mt-8 w-64 mx-auto z-10">
            <div class="flex justify-between text-[10px] text-white mb-1 px-1">
                <span class="flex items-center gap-1">‚ö° ENERGY</span>
                <span id="energy-text">1000/1000</span>
            </div>
            <div class="w-full h-4 bg-gray-700 border-2 border-white relative shadow-[2px_2px_0_0_#000]">
                <div id="energy-bar" class="h-full bg-gradient-to-r from-yellow-500 to-orange-500 w-full transition-all duration-200"></div>
            </div>
        </div>
    </div>

    <!-- === È†ÅÈù¢ 2: Ë≥∫Èå¢ (EARN) === -->
    <div id="view-earn" class="page p-6 overflow-y-auto no-scrollbar">
        <div class="text-center mb-6">
            <h2 class="text-xl text-white mb-1">TASK BOARD</h2>
            <p class="text-[10px] text-gray-500">Complete tasks to verify eligibility</p>
        </div>
        
        <div class="space-y-4 w-full max-w-md mx-auto">
            <!-- Twitter ‰ªªÂãô -->
            <div class="bg-gray-800 border-2 border-white p-3 shadow-[4px_4px_0_0_#000] relative group">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-black border-2 border-white flex items-center justify-center shrink-0">
                        <i data-lucide="twitter" class="text-blue-400 w-5 h-5"></i>
                    </div>
                    <div class="flex-1">
                        <div class="text-[10px] text-white mb-1">Follow on X</div>
                        <div class="text-[10px] text-yellow-400">+5,000 CHONK</div>
                    </div>
                    <button id="btn-twitter" onclick="handleTask('twitter', 'https://twitter.com', 5000)" class="bg-yellow-400 text-black text-[10px] px-3 py-2 border-b-4 border-yellow-600 active:border-0 active:translate-y-1 font-bold">
                        GO
                    </button>
                </div>
            </div>

            <!-- Telegram ‰ªªÂãô -->
            <div class="bg-gray-800 border-2 border-white p-3 shadow-[4px_4px_0_0_#000] relative group">
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 bg-black border-2 border-white flex items-center justify-center shrink-0">
                        <i data-lucide="send" class="text-blue-300 w-5 h-5"></i>
                    </div>
                    <div class="flex-1">
                        <div class="text-[10px] text-white mb-1">Join Community</div>
                        <div class="text-[10px] text-yellow-400">+5,000 CHONK</div>
                    </div>
                    <button id="btn-telegram" onclick="handleTask('telegram', 'https://telegram.org', 5000)" class="bg-yellow-400 text-black text-[10px] px-3 py-2 border-b-4 border-yellow-600 active:border-0 active:translate-y-1 font-bold">
                        GO
                    </button>
                </div>
            </div>
            
            <!-- ÈéñÂÆöÁöÑ‰ªªÂãô (Coming Soon) -->
            <div class="bg-gray-800/50 border-2 border-gray-600 p-3 relative opacity-70">
                <div class="flex items-center gap-3 grayscale">
                    <div class="w-10 h-10 bg-black border-2 border-gray-500 flex items-center justify-center shrink-0">
                        <i data-lucide="youtube" class="text-red-500 w-5 h-5"></i>
                    </div>
                    <div class="flex-1">
                        <div class="text-[10px] text-gray-400 mb-1">Watch Video</div>
                        <div class="text-[10px] text-gray-500">+10,000 CHONK</div>
                    </div>
                    <div class="text-[8px] bg-gray-700 text-white px-2 py-1">SOON</div>
                </div>
            </div>
        </div>
    </div>

    <!-- === È†ÅÈù¢ 3: ÊúãÂèã (FRIENDS) === -->
    <div id="view-friends" class="page p-6 items-center text-center">
        <div class="mt-12 mb-4 text-6xl animate-bounce">ü§ù</div>
        <h2 class="text-xl text-white mb-4">INVITE SQUAD</h2>
        <div class="bg-gray-800 p-4 border-2 border-white w-full max-w-xs mb-6 shadow-[4px_4px_0_0_#000]">
            <p class="text-[10px] text-gray-400 mb-2">YOUR REFERRAL LINK</p>
            <p class="text-[10px] text-blue-300 break-all font-mono" id="ref-link">t.me/ZeroXChonkBot...</p>
        </div>
        <button onclick="copyRef()" class="w-full max-w-xs bg-blue-600 text-white py-3 border-b-4 border-blue-800 active:border-0 active:translate-y-1 font-bold text-xs flex items-center justify-center gap-2">
            <i data-lucide="copy" class="w-4 h-4"></i> COPY LINK
        </button>
    </div>

    <!-- Â∫ïÈÉ®Â∞éËà™ -->
    <div class="h-20 bg-gray-800 border-t-4 border-white flex justify-around items-center px-2 shrink-0 z-20">
        <button onclick="switchTab('mine')" class="nav-btn flex flex-col items-center gap-1 p-2 text-yellow-400 transition-colors" id="nav-mine">
            <i data-lucide="pickaxe" class="w-6 h-6"></i><span class="text-[8px]">MINE</span>
        </button>
        <button onclick="switchTab('earn')" class="nav-btn flex flex-col items-center gap-1 p-2 text-gray-500 hover:text-white transition-colors" id="nav-earn">
            <i data-lucide="coins" class="w-6 h-6"></i><span class="text-[8px]">EARN</span>
        </button>
        <button onclick="switchTab('friends')" class="nav-btn flex flex-col items-center gap-1 p-2 text-gray-500 hover:text-white transition-colors" id="nav-friends">
            <i data-lucide="users" class="w-6 h-6"></i><span class="text-[8px]">SQUAD</span>
        </button>
    </div>

    <!-- Ê®°Êì¨Èå¢ÂåÖÈÄ£Êé•ÂΩàÁ™ó (Wallet Modal) -->
    <div id="wallet-modal" class="fixed inset-0 modal-bg z-50 hidden flex-col items-center justify-center p-4">
        <div class="bg-gray-800 border-4 border-white p-6 w-full max-w-xs shadow-[8px_8px_0_0_#000] relative">
            <button onclick="toggleWalletModal()" class="absolute top-2 right-2 text-gray-400 hover:text-white"><i data-lucide="x" class="w-5 h-5"></i></button>
            <h3 class="text-white text-center mb-6 text-sm">CONNECT WALLET</h3>
            
            <div class="space-y-3">
                <button onclick="simulateConnect('Phantom')" class="w-full bg-purple-900 border-2 border-white p-3 flex items-center gap-3 hover:bg-purple-800 transition-colors">
                    <div class="w-8 h-8 bg-purple-500 rounded-full"></div>
                    <span class="text-xs text-white">Phantom</span>
                </button>
                <button onclick="simulateConnect('Metamask')" class="w-full bg-orange-900 border-2 border-white p-3 flex items-center gap-3 hover:bg-orange-800 transition-colors">
                    <div class="w-8 h-8 bg-orange-500 rounded-full"></div>
                    <span class="text-xs text-white">Metamask</span>
                </button>
            </div>
        </div>
    </div>

    <script>
        lucide.createIcons();

        // Ê†∏ÂøÉÊï∏Êìö
        let score = parseInt(localStorage.getItem('chonk_score')) || 0;
        let energy = 1000;
        const maxEnergy = 1000;
        let walletAddress = localStorage.getItem('chonk_wallet'); // Ê™¢Êü•ÊòØÂê¶Â∑≤ÈÄ£Êé•
        
        // DOM ÂàùÂßãÂåñ
        const scoreDisplay = document.getElementById('score-display');
        const energyBar = document.getElementById('energy-bar');
        const energyText = document.getElementById('energy-text');
        const catBtn = document.getElementById('cat-btn');
        const refLink = document.getElementById('ref-link');

        // ÁîüÊàêÈö®Ê©üÈÇÄË´ãÈÄ£Áµê
        refLink.innerText = `t.me/ZeroXChonkBot?start=user_${Math.floor(Math.random()*99999)}`;

        // ÂàùÂßãÂåñÈå¢ÂåÖÁãÄÊÖã
        if(walletAddress) updateWalletUI(walletAddress);
        updateUI();

        // --- 1. ÂÑ™ÂåñÊâìÊìäÊÑüÈÇèËºØ ---
        catBtn.addEventListener('mousedown', handleTap);
        catBtn.addEventListener('touchstart', (e) => { e.preventDefault(); handleTap(e.touches[0]); });

        function handleTap(e) {
            if (energy < 5) return; // ËÉΩÈáè‰∏çË∂≥
            
            energy -= 5;
            score += 100;
            saveData();
            updateUI();

            // Ë≤ìÂí™ÂãïÁï´ (ÈáçÁΩÆ class ‰ª•ÂÖÅË®±ÈáçË§áÊí≠Êîæ)
            const container = catBtn.querySelector('div');
            container.classList.remove('cat-idle');
            container.style.animation = 'none';
            container.offsetHeight; /* trigger reflow */
            container.style.animation = null; 
            container.classList.add('cat-tap');
            
            setTimeout(() => { 
                container.classList.remove('cat-tap'); 
                container.classList.add('cat-idle'); 
            }, 100);

            // ÊµÆÂãïÊï∏Â≠ó‰ΩçÁΩÆË®àÁÆó
            const rect = catBtn.getBoundingClientRect();
            // Â¶ÇÊûúÊòØËß∏ÊéßÔºåÁî®Ëß∏ÊéßÈªûÔºõÂ¶ÇÊûúÊòØÊªëÈº†ÔºåÁî®ÈªûÊìäÈªûÔºõÂ¶ÇÊûúÈÉΩÊ≤íÊúâÔºåÁî®‰∏≠ÂøÉÈªû
            const x = e.clientX || (rect.left + rect.width/2);
            const y = e.clientY || (rect.top + rect.height/2);
            showFloatingText(x, y);

            // ÈúáÂãïÂèçÈ•ã (Haptic)
            if (navigator.vibrate) navigator.vibrate(20); // ËºïÈúáÂãï
        }

        // --- 2. EARN ‰ªªÂãôÈÇèËºØ ---
        function handleTask(id, url, reward) {
            const btn = document.getElementById(`btn-${id}`);
            if(btn.disabled) return;

            window.open(url, '_blank');
            
            btn.innerText = "VERIFYING...";
            btn.classList.add('opacity-50');
            
            setTimeout(() => {
                score += reward;
                saveData();
                updateUI();
                btn.innerText = "CLAIMED";
                btn.disabled = true;
                btn.classList.replace('bg-yellow-400', 'bg-green-500');
                btn.classList.replace('border-yellow-600', 'border-green-700');
                btn.classList.replace('text-black', 'text-white');
                btn.classList.remove('opacity-50');
                if (navigator.vibrate) navigator.vibrate([50, 50, 50]); // ÊàêÂäü‰∏âÈÄ£Èúá
            }, 3000); // 3ÁßíÂæåÈ†òÂèñ
        }

        // --- 3. Ê®°Êì¨Èå¢ÂåÖÈÄ£Êé•ÈÇèËºØ ---
        function toggleWalletModal() {
            const modal = document.getElementById('wallet-modal');
            modal.classList.toggle('hidden');
            modal.classList.toggle('flex');
        }

        function simulateConnect(provider) {
            const btn = document.querySelector(`button[onclick="simulateConnect('${provider}')"]`);
            const originalText = btn.innerHTML;
            btn.innerHTML = `<span class="animate-pulse">Connecting...</span>`;
            
            setTimeout(() => {
                // ÁîüÊàêÂÅáÂú∞ÂùÄ
                const mockAddr = "0x" + Math.random().toString(16).substr(2, 4).toUpperCase() + "..." + "CHONK";
                localStorage.setItem('chonk_wallet', mockAddr);
                updateWalletUI(mockAddr);
                toggleWalletModal();
                btn.innerHTML = originalText;
                alert(`Connected to ${provider} successfully!`);
            }, 1500);
        }

        function updateWalletUI(addr) {
            const btn = document.getElementById('wallet-btn');
            const txt = document.getElementById('wallet-text');
            btn.classList.replace('bg-black', 'bg-green-900');
            btn.classList.replace('border-gray-600', 'border-green-500');
            txt.innerText = addr;
            txt.classList.replace('text-gray-400', 'text-green-300');
        }

        // --- È†ÅÈù¢ÂàáÊèõ ---
        function switchTab(tabName) {
            document.querySelectorAll('.page').forEach(el => el.classList.remove('active'));
            document.getElementById(`view-${tabName}`).classList.add('active');
            
            document.querySelectorAll('.nav-btn').forEach(el => {
                el.classList.remove('text-yellow-400');
                el.classList.add('text-gray-500');
            });
            document.getElementById(`nav-${tabName}`).classList.remove('text-gray-500');
            document.getElementById(`nav-${tabName}`).classList.add('text-yellow-400');
        }

        function showFloatingText(x, y) {
            const el = document.createElement('div');
            el.className = 'float-num';
            el.innerText = '+100';
            // Èö®Ê©ü‰∏ÄÈªûÂÅèÁßªËÆìÁï´Èù¢Êõ¥ÊúâË∂£
            const randomX = (Math.random() - 0.5) * 40;
            el.style.left = (x + randomX) + 'px';
            el.style.top = (y - 50) + 'px';
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 600);
        }

        function updateUI() {
            scoreDisplay.innerText = score.toLocaleString();
            energyText.innerText = `${Math.floor(energy)}/${maxEnergy}`;
            energyBar.style.width = `${(energy/maxEnergy)*100}%`;
        }

        function saveData() { localStorage.setItem('chonk_score', score); }
        function copyRef() { navigator.clipboard.writeText(refLink.innerText); alert("Link Copied!"); }

        setInterval(() => { if (energy < maxEnergy) { energy += 3; if(energy > maxEnergy) energy = maxEnergy; updateUI(); } }, 1000);
    </script>
</body>
</html>
